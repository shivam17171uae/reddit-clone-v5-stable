import React from 'react'; import { useParams } from 'react-router-dom'; import PostList from '../components/PostList'; import Sidebar from '../components/Sidebar'; import { useAuth } from '../context/AuthContext'; import CreatePost from '../components/CreatePost';
function CommunityPage(){const {communityName}=useParams();const {user}=useAuth();const [postUpdateKey,setPostUpdateKey]=React.useState(0);return(<div className="flex flex-col lg:flex-row gap-8"><div className="flex-grow"><h2 className="text-3xl font-bold mb-4 text-orange-400">c/{communityName}</h2>{user&&<CreatePost onPostCreated={()=>setPostUpdateKey(k=>k+1)} initialCommunity={communityName}/>}<PostList key={`${communityName}-${postUpdateKey}`} communityName={communityName}/></div><Sidebar/></div>);}
export default CommunityPage;
